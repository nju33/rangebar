var Rangebar=function(){'use strict';function a(S,T){return T={exports:{}},S(T,T.exports),T.exports}function b(S,T){T.appendChild(S)}function c(S,T,U){T.insertBefore(S,U)}function d(S){S.parentNode.removeChild(S)}function f(S,T,U){for(var V=U||0;V<S.length;V+=1)S[V].teardown(T)}function g(S){return document.createElement(S)}function h(){return document.createComment('')}function j(S,T,U){S.addEventListener(T,U,!1)}function k(S,T,U){S.removeEventListener(T,U,!1)}function l(S,T,U){S.setAttribute(T,U)}function s(S,T,U,V){for(var W in T)if(W in U){var X=U[W],Y=V[W];if(X!==Y||'object'==typeof X){var Z=T[W];if(Z)for(var _,$=0;$<Z.length;$+=1)_=Z[$],_.__calling||(_.__calling=!0,_.call(S,X,Y),_.__calling=!1)}}}function t(S,T,U,V){(V||'style'in T&&'object'==typeof S.style||S.style!==U.style)&&(S.buttonSize=T.buttonSize=Q.computed.buttonSize(S.style)),(V||'min'in T&&'object'==typeof S.min||S.min!==U.min||'max'in T&&'object'==typeof S.max||S.max!==U.max)&&(S.range=T.range=Q.computed.range(S.min,S.max))}function u(){var S=g('style');S.textContent='\n[svelte-298887152].bar, [svelte-298887152] .bar {\n  margin: 1em;\n  position: relative;\n  border-radius: 3px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n}\n\n[svelte-298887152].button, [svelte-298887152] .button {\n  position: absolute;\n  border-radius: 50%;\n  cursor: pointer;\n}\n\n',b(S,document.head),R=!0}function v(S,T){function U(Y){return Y.style?w:null}var V=h(),W=U(S),X=W&&W(S,T);return{mount:function(Y,Z){c(V,Y,Z),X&&X.mount(V.parentNode,V)},update:function(Y,Z){var _=W;W=U(Z),_===W&&X?X.update(Y,Z):(X&&X.teardown(!0),X=W&&W(Z,T),X&&X.mount(V.parentNode,V))},teardown:function(Y){X&&X.teardown(Y),Y&&d(V)}}}function w(S,T){var U=g('div');l(U,'svelte-298887152',''),T.refs.bar=U,U.className='rangebar bar',U.style.cssText='\n    width: '+(S.horizontal?S.style.len:S.style.width)+';\n    height: '+(S.horizontal?S.style.width:S.style.len)+';\n    background-color: '+S.style.barBackgroundColor+';\n  ';var V=h();b(V,U);for(var W=S.buttons,X=[],Y=0;Y<W.length;Y+=1)X[Y]=x(S,W,W[Y],Y,T),X[Y].mount(V.parentNode,V);return{mount:function(Z,$){c(U,Z,$)},update:function(Z,$){U.style.cssText='\n    width: '+($.horizontal?$.style.len:$.style.width)+';\n    height: '+($.horizontal?$.style.width:$.style.len)+';\n    background-color: '+$.style.barBackgroundColor+';\n  ';for(var aa=$.buttons,ba=0;ba<aa.length;ba+=1)X[ba]?X[ba].update(Z,$,aa,aa[ba],ba):(X[ba]=x($,aa,aa[ba],ba,T),X[ba].mount(V.parentNode,V));f(X,!0,aa.length),X.length=aa.length},teardown:function(Z){T.refs.bar===U&&(T.refs.bar=null),f(X,!1),Z&&d(U)}}}function x(S,T,U,V,W){function X(Z){var $=this.__svelte.eachBlock_value,_=this.__svelte.idx,aa=$[_];W.handleMousedown(Z,_)}var Y=g('div');return l(Y,'svelte-298887152',''),Y.className='rangebar button',Y.style.cssText='\n        width: '+S.buttonSize+'px;\n        height: '+S.buttonSize+'px;\n        background-color: '+S.style.buttonBackgroundColor+';\n        '+(S.horizontal&&`left: ${S.buttonPositions[V]-S.buttonSize/2}px`)+';\n        '+(S.horizontal||`top: ${S.buttonPositions[V]-S.buttonSize/2}px`)+';\n        z-index: '+(S.zIndexes[V]||0)+';\n      ',j(Y,'mousedown',X),Y.__svelte={eachBlock_value:T,idx:V},{mount:function(Z,$){c(Y,Z,$)},update:function(Z,$,_,aa,ba){Y.style.cssText='\n        width: '+$.buttonSize+'px;\n        height: '+$.buttonSize+'px;\n        background-color: '+$.style.buttonBackgroundColor+';\n        '+($.horizontal&&`left: ${$.buttonPositions[ba]-$.buttonSize/2}px`)+';\n        '+($.horizontal||`top: ${$.buttonPositions[ba]-$.buttonSize/2}px`)+';\n        z-index: '+($.zIndexes[ba]||0)+';\n      ',Y.__svelte.eachBlock_value=_,Y.__svelte.idx=ba},teardown:function(Z){k(Y,'mousedown',X),Z&&d(Y)}}}function y(S){S=S||{},this.refs={},this._state=Object.assign(Q.data(),S.data),t(this._state,this._state,{},!0),this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=S._root,this._yield=S._yield,this._torndown=!1,R||u(),this._fragment=v(this._state,this),S.target&&this._fragment.mount(S.target,null),S._root?S._root._renderHooks.push({fn:Q.oncreate,context:this}):Q.oncreate.call(this)}for(var A='undefined'==typeof window?'undefined'==typeof global?'undefined'==typeof self?{}:self:global:window,B=a(function(S){(function(){var T,U,V;'undefined'!=typeof performance&&null!==performance&&performance.now?S.exports=function(){return performance.now()}:'undefined'!=typeof process&&null!==process&&process.hrtime?(S.exports=function(){return(T()-V)/1e6},U=process.hrtime,T=function(){var W;return W=U(),1e9*W[0]+W[1]},V=T()):Date.now?(S.exports=function(){return Date.now()-V},V=Date.now()):(S.exports=function(){return new Date().getTime()-V},V=new Date().getTime())}).call(A)}),C=B,D='undefined'==typeof window?A:window,E=['moz','webkit'],F='AnimationFrame',G=D['request'+F],H=D['cancel'+F]||D['cancelRequest'+F],I=0;!G&&I<E.length;I++)G=D[E[I]+'Request'+F],H=D[E[I]+'Cancel'+F]||D[E[I]+'CancelRequest'+F];if(!G||!H){var J=0,K=0,L=[];G=function(S){if(0===L.length){var T=C(),U=Math.max(0,1e3/60-(T-J));J=U+T,setTimeout(function(){var V=L.slice(0);L.length=0;for(var W=0;W<V.length;W++)if(!V[W].cancelled)try{V[W].callback(J)}catch(X){setTimeout(function(){throw X},0)}},Math.round(U))}return L.push({handle:++K,callback:S,cancelled:!1}),K},H=function(S){for(var T=0;T<L.length;T++)L[T].handle===S&&(L[T].cancelled=!0)}}var N=function(S){return G.call(D,S)};N.cancel=function(){H.apply(D,arguments)},N.polyfill=function(){D.requestAnimationFrame=G,D.cancelAnimationFrame=H};var Q=function(){return{data(){return{defaultStyle:{len:'8em',width:'4px',barBackgroundColor:'#222',buttonBackgroundColor:'#cb1b45'},horizontal:!0,min:0,max:100,active:null,style:null,buttons:null,zIndex:0,zIndexes:[],buttonPositions:[]}},computed:{buttonSize(S){function T(V){const W=V.match(/^\d+/);return null===W?null:+W[0]}if((S||{}).width){const U=T(S.width);return 2.414*U}},range(S,T){return'number'!=typeof S&&'number'!=typeof T?void 0:T-S}},methods:{handleMousedown(S,T){S.preventDefault();const{active:U}=this.get();null!==U||this.set({active:T})},handleMouseup(){const{active:S,range:T,horizontal:U,buttonPositions:V,buttonSize:W,zIndex:X,zIndexes:Y,onChange:Z}=this.get();if(null!==S){const $=this.refs.bar[U?'clientWidth':'clientHeight'];'function'==typeof Z&&Z(V.map(aa=>{const ba=Math.round(aa/($/T));return ba}));const _=X+1;Y[S]=_,this.set({active:null,zIndexes:Y,zIndex:_})}},handleMousemove(S){const{active:T,range:U,horizontal:V,buttonPositions:W}=this.get();if(null!==T){const X=this.refs.bar[V?'clientWidth':'clientHeight'],Y=W[T],Z=W[T-1]||0,$=W[T+1]||X;W[T]=(()=>{const _=Y+S[V?'movementX':'movementY'];return _<Z?Z:_>$?$:_})(),this.set({buttonPositions:W})}}},oncreate(){const{style:S,defaultStyle:T,buttons:U}=this.get(),V=()=>{const{bar:W}=this.refs,{horizontal:X,buttons:Y,buttonSize:Z,zIndex:$}=this.get(),_=W[X?'clientWidth':'clientHeight'],aa=[],ba=Y.map((ca,da)=>{return aa.push($+da+1),_/(100/ca)});this.set({buttonPositions:ba,zIndexes:aa,zIndex:$+Y.length})};if(!Array.isArray(U))throw new Error('Required data `buttons`');else N(V);null===S&&this.set({style:Object.assign({},this.defaultStyle)}),this.observe('style',W=>{const{defaultStyle:X}=this.get();if('undefined'==typeof W)return void this.set({style:X});if('object'!=typeof W||Array.isArray(W))throw new Error('`style` must be Object');this.set({style:Object.assign({},X,W)})}),this.observe('buttons',W=>{if(!Array.isArray(W))throw new Error('`button` must be Array');this.set({buttons:W}),N(V)}),document.body.addEventListener('mouseup',this.handleMouseup.bind(this)),document.body.addEventListener('mouseleave',this.handleMouseup.bind(this)),document.body.addEventListener('mousemove',this.handleMousemove.bind(this))},ondestroy(){document.body.removeEventListener('mouseup',this.handleMouseup.bind(this)),document.body.removeEventListener('mouseleave',this.handleMouseup.bind(this)),document.body.removeEventListener('mousemove',this.handleMousemove.bind(this))}}}();let R=!1;return y.prototype=Q.methods,y.prototype.get=function(S){return S?this._state[S]:this._state},y.prototype.fire=function(S,T){var U=S in this._handlers&&this._handlers[S].slice();if(U)for(var V=0;V<U.length;V+=1)U[V].call(this,T)},y.prototype.observe=function(S,T,U){var V=U&&U.defer?this._observers.pre:this._observers.post;return(V[S]||(V[S]=[])).push(T),U&&!1===U.init||(T.__calling=!0,T.call(this,this._state[S]),T.__calling=!1),{cancel:function(){var W=V[S].indexOf(T);~W&&V[S].splice(W,1)}}},y.prototype.on=function(S,T){var U=this._handlers[S]||(this._handlers[S]=[]);return U.push(T),{cancel:function(){var V=U.indexOf(T);~V&&U.splice(V,1)}}},y.prototype.set=function(S){this._set(S),(this._root||this)._flush()},y.prototype._flush=function(){if(this._renderHooks)for(;this._renderHooks.length;){var S=this._renderHooks.pop();S.fn.call(S.context)}},y.prototype._set=function(T){var U=this._state;this._state=Object.assign({},U,T),t(this._state,T,U,!1),s(this,this._observers.pre,T,U),this._fragment&&this._fragment.update(T,this._state),s(this,this._observers.post,T,U)},y.prototype.teardown=y.prototype.destroy=function(T){this.fire('teardown'),Q.ondestroy.call(this),this._fragment.teardown(!1!==T),this._fragment=null,this._state={},this._torndown=!0},y}();
